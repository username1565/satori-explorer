/*!
 * Cirquity - Cirquity v1.1.0 (https://cirquity.com)
 * Copyright 2020-2020 The Cirquity Developers
 * Licensed under MIT (https://github.com/cirquity/cirquity-explorer/blob/master/LICENSE)
 */

!function(t){let n;t((function(){currentPage="nodes";let e=setInterval((function(){appReady&&(t.getJSON("https://raw.githubusercontent.com/cirquity/cirquity-node-list/master/cirquity-nodes.json",(function(e){n=e.nodes,t.initNodes()})),clearInterval(e))}),10)})),t.initNodes=function(){n.forEach((function(n){const e=n.url,o=n.port,s=n.name,r=n.ssl;let c=e+":"+o,i="http://";r&&(i="https://",c=e),t.getJSON("/api/node/?url="+encodeURIComponent(i+c+"/info"),(function(n,e,o){const r=t.formatDate(n.start_time);t("#nodes-rows").append(t.renderNodeRow(s,c,n,r))}))})),setInterval((function(){t("#nodes-rows").empty(),n.forEach((function(n){const e=n.url,o=n.port,s=n.name,r=n.ssl;let c=e+":"+o,i="http://";r&&(i="https://",c=e),t.getJSON("/api/node/?url="+encodeURIComponent(i+c+"/info"),(function(n,e,o){const r=t.formatDate(n.start_time);t("#nodes-rows").append(t.renderNodeRow(s,c,n,r))}))}))}),12e4)},t.renderNodeRow=function(t,n,e,o){let s=[];return s.push("<tr>"),s.push('<th scope="row">'+t+"</th>"),s.push("<td><code>"+n+"</code></td>"),s.push("<td>"+e.version+"</td>"),s.push("<td>"+e.height+"</td>"),s.push('<td class="text-center">'+e.incoming_connections_count+" / "+e.outgoing_connections_count+"</td>"),s.push("<td>"+o+"</td>"),s.push("</tr>"),s.join("")}}(jQuery);